{"version":3,"sources":["webpack:///./src/templates/post.js","webpack:///./src/templates/post.module.css"],"names":["post","props","_this","_React$Component","call","this","state","currentImage","data","closeLightbox","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default","openLightbox","gotoNext","gotoPrevious","event","obj","setState","index","lightboxIsOpen","render","sitePage","images","Object","keys","context","gallery","map","e","temp","src","fields","file","url","width","height","console","log","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_layout_layout__WEBPACK_IMPORTED_MODULE_8__","_components_navbar_navbar__WEBPACK_IMPORTED_MODULE_12__","className","style","content","title","titolo","mainImage","alt","dangerouslySetInnerHTML","__html","react_photo_gallery__WEBPACK_IMPORTED_MODULE_9__","photos","onClick","margin","react_images__WEBPACK_IMPORTED_MODULE_10___default","onClose","onClickPrev","onClickNext","isOpen","_components_footer_footer__WEBPACK_IMPORTED_MODULE_11__","React","Component","query","module","exports"],"mappings":"kSAWMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXC,aAAc,EACdC,KAAM,MAERN,EAAKO,cAAgBP,EAAKO,cAAcC,KAAnBC,QAAAT,KACrBA,EAAKU,aAAeV,EAAKU,aAAaF,KAAlBC,QAAAT,KACpBA,EAAKW,SAAWX,EAAKW,SAASH,KAAdC,QAAAT,KAChBA,EAAKY,aAAeZ,EAAKY,aAAaJ,KAAlBC,QAAAT,KATHA,sCAWnBU,sBAAaG,EAAOC,GAClBX,KAAKY,SAAS,CACZV,aAAcS,EAAIE,MAClBC,gBAAgB,OAGpBV,yBACEJ,KAAKY,SAAS,CACZV,aAAc,EACdY,gBAAgB,OAGpBL,wBACET,KAAKY,SAAS,CACZV,aAAcF,KAAKC,MAAMC,aAAe,OAG5CM,oBACER,KAAKY,SAAS,CACZV,aAAcF,KAAKC,MAAMC,aAAe,OAG5Ca,kBACE,IAAMpB,EAAOK,KAAKJ,MAAMO,KAAKa,SACvBC,EAASC,OAAOC,KAAKxB,EAAKyB,QAAQC,SAASC,IAAI,SAACC,GACpD,IAAMC,EAAO,GAIb,OAHAA,EAAKC,IAAM9B,EAAKyB,QAAQC,QAAQE,GAAGG,OAAOC,KAAKC,IAC/CJ,EAAKK,MAAQ,EACbL,EAAKM,OAAS,EACPN,IAGT,OADAO,QAAQC,IAAIf,GAEVgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACE,EAAA,EAAD,MACAJ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAAA,OAAKG,UAAS,GAAKC,IAAM5C,MACvBsC,EAAAC,EAAAC,cAAA,OAAKG,UAAS,GAAKC,IAAMC,SACvBP,EAAAC,EAAAC,cAAA,MAAIG,UAAS,GAAKC,IAAME,OAAU9C,EAAKyB,QAAQsB,QAC7C/C,EAAKyB,QAAQuB,UACbV,EAAAC,EAAAC,cAAA,OAAKG,UAAS,GAAKC,IAAMI,UAAalB,IAAG,SAAW9B,EAAKyB,QAAQuB,UAAUjB,OAAOC,KAAKC,IAAOgB,IAAI,KAChG,KACJX,EAAAC,EAAAC,cAAA,OAAKU,wBAAyB,CAAEC,OAAQnD,EAAKyB,QAAQjB,UAGvD8B,EAAAC,EAAAC,cAAA,OAAKG,UAAS,aAAeC,IAAMlB,SACjCY,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAASC,OAAQ/B,EAAQgC,QAASjD,KAAKO,aAAc2C,OAAQ,KAC7DjB,EAAAC,EAAAC,cAACgB,EAAAjB,EAAD,CAAUjB,OAAQA,EAChBmC,QAASpD,KAAKI,cACdiD,YAAarD,KAAKS,aAClB6C,YAAatD,KAAKQ,SAClBN,aAAcF,KAAKC,MAAMC,aACzBqD,OAAQvD,KAAKC,MAAMa,oBAK7BmB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,WAtEWC,IAAMC,WA4EV/D,YAER,IAAMgE,EAAK,iCCxFlBC,EAAAC,QAAA,CAAkBpB,MAAA,4BAAA9C,KAAA,2BAAAgD,UAAA,gCAAAtB,QAAA,8BAAAmB,QAAA","file":"component---src-templates-post-js-99d14f13ed30fa0520b2.js","sourcesContent":["import React from \"react\"\nimport Layout from \"../components/layout/layout\"\nimport { graphql } from \"gatsby\"\n\nimport Gallery from 'react-photo-gallery'\nimport Lightbox from 'react-images'\nimport Footer from \"../components/footer/footer\"\nimport Navbar from \"../components/navbar/navbar\"\nimport style from \"./post.module.css\"\n\n\nclass post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentImage: 0,\n      data: null,\n    }\n    this.closeLightbox = this.closeLightbox.bind(this);\n    this.openLightbox = this.openLightbox.bind(this);\n    this.gotoNext = this.gotoNext.bind(this);\n    this.gotoPrevious = this.gotoPrevious.bind(this);\n  }\n  openLightbox(event, obj) {\n    this.setState({\n      currentImage: obj.index,\n      lightboxIsOpen: true,\n    });\n  }\n  closeLightbox() {\n    this.setState({\n      currentImage: 0,\n      lightboxIsOpen: false,\n    });\n  }\n  gotoPrevious() {\n    this.setState({\n      currentImage: this.state.currentImage - 1,\n    });\n  }\n  gotoNext() {\n    this.setState({\n      currentImage: this.state.currentImage + 1,\n    });\n  }\n  render() {\n    const post = this.props.data.sitePage;\n    const images = Object.keys(post.context.gallery).map((e) => {\n      const temp = {};\n      temp.src = post.context.gallery[e].fields.file.url;\n      temp.width = 4;\n      temp.height = 3;\n      return temp;\n    });\n    console.log(images);\n    return (\n      <Layout>\n        <Navbar />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className={`${style.post}`}>\n              <div className={`${style.content}`}>\n                <h1 className={`${style.title}`}>{post.context.titolo}</h1>\n                {(post.context.mainImage) ? (\n                  <img className={`${style.mainImage}`} src={`https:${post.context.mainImage.fields.file.url}`} alt=\"\" />\n                ) : null}\n                <div dangerouslySetInnerHTML={{ __html: post.context.data }} />\n              </div>\n            </div>\n              <div className={`container ${style.gallery}`}>\n                <Gallery photos={images} onClick={this.openLightbox} margin={12} />\n                <Lightbox images={images}\n                  onClose={this.closeLightbox}\n                  onClickPrev={this.gotoPrevious}\n                  onClickNext={this.gotoNext}\n                  currentImage={this.state.currentImage}\n                  isOpen={this.state.lightboxIsOpen}\n                />\n              </div>\n          </div>\n        </div>\n        <Footer />\n      </Layout>\n    )\n  }\n}\n\nexport default post;\n\nexport const query = graphql`\n  query($slug: String!) {\n    sitePage(context: { slug: {eq: $slug} } ) {\n      context {\n        data\n        titolo\n        mainImage {\n          fields {\n            file {\n              url\n            }\n          }\n        }\n        gallery {\n          fields {\n            file {\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"post-module--title--_4a8P\",\"post\":\"post-module--post--BLAJH\",\"mainImage\":\"post-module--mainImage--2wqM5\",\"gallery\":\"post-module--gallery--6LlWv\",\"content\":\"post-module--content--2Opks\"};"],"sourceRoot":""}